---
title: '(Halb-) Automatisiert Codebooks erstellen' 
subtitle: 'Reproduzierbarkeit und Nachnutzung fördern mit dem codebook Package'
title-slide-attributes:
  data-background-image: ../www/transparent.jpg
  data-background-size: cover
  data-background-opacity: "0.3"
author: "<b>Jürgen Schneider</b>"
date: last-modified # today
date-format: "DD MMMM YYYY"
format: 
  revealjs:
      theme: [sky, ../www/custom.scss] # sky default
      logo: ../www/dipf-logo.png
      footer: "Slides: ..."
      smaller: true
      scrollable: true
bibliography: ../www/references.bib
csl: https://raw.githubusercontent.com/citation-style-language/styles/master/apa.csl
---

```{r setup, include=FALSE}
# knitr::opts_chunk$set(echo = FALSE,
#                       message=FALSE, 
#                       warning=FALSE)

### DOWNLOAD NEWEST SOURCES
# download.file("https://drive.google.com/uc?export=download&id=1ASV99YHMHSNChSNzqbZwvz2SiqYvmqO_", # befindet sich im DIPF Ordner
              # "www/references.bib", overwrite = T)
library(fontawesome)
library(ggplot2)
library(kableExtra)
```



## Reproduzierbarkeit
#### Reproduzierbarkeit vs. Replizierbarkeit
\
\

Reproduzierbarkeit und Replizierbarkeit zwischen Disziplinen unterschiedlich verwendet [@barba.2018]
  
. . .
  
\

::: {.callout-note icon=false}
### Reproduzierbarkeit
"obtaining consistent results using the **same input data; computational steps, methods, and code**; and conditions of analysis" [@nas.2019, p. 46]
:::
= "computational reproducibility"
\
  
::: {.callout-note icon=false}
### Replizierbarkeit
"obtaining consistent results **across studies** aimed at answering the same scientific question, each of which has obtained its **own data**" [@nas.2019, p. 46]
:::


## Reproduzierbarkeit
#### Warum?
\
\

* Prüfen von "scientific claims" (Transparenz `r fa(name = "long-arrow-alt-right")` Lesende beurteilen selbst)
  - Robustness: Alternative Auswertungen durch Reviewer\*innen / Lesende
  - Selective reporting (z. B. erkennbar welche Variablen nicht berichtet wurden)
  - P-hacking (z. B. erkennbar welche Ausprägungen Variablen hatten vor Gruppierung)<br /><br />
* Fördert auch Replikationen [@erringtonetal.2021]<br /><br />
* Eigene Nachvollziehbarkeit des Datensatzes & der Analysen

::: {.notes}
* "To evaluate a scientific claim one needs access to the evidence supporting the claim"
  - "tendency of authors to report what they perceive to be important"
  - Transparenz: Lesende können selbst beurteilen, wie sie die evidenz einschätzen
* 
:::

## Reproduzierbarkeit
#### Optimierungspotential
\
\

**@artneretal.2021**: **232** scientific claims aus **46** Zeitschriftenartikel


```{r}
#| fig-width: 15
#| fig-height: 9
#| fig-align: center
#| fig-dpi: 300

artner <- data.frame(what = factor(c("scientific claims",
                                     "reproducible",
                                     "reproducible (strict)",
                                     "reproducible (strict) \n& procedure of paper"),
                                   levels = c("scientific claims",
                                     "reproducible",
                                     "reproducible (strict)",
                                     "reproducible (strict) \n& procedure of paper")),
                     count = c(232, 163, 137, 119),
                     percent = c("100 %", "70 %", "59 %", "51 %"))

ggplot(artner, aes(x=what, y=count)) +
  stat_summary(fun=mean, colour="#ff4c4c", geom="line", aes(group = 1), size = 3) +
  geom_point(size = 6) +
  annotate("text", x = artner$what, y = artner$count - 15, label = artner$percent, size = 6) +
  scale_y_continuous(limits = c(0,235)) +
  xlab("") +
  theme_light() +
  theme(text = element_text(size = 24))
```

::: {.notes}
163 (70%) of the 232 (not in a strict sense (59%), e.g. df) (only for 52% if procedure in the paper was followed)
:::


## Nachnutzung | Definition

::: {.callout-note icon=false}
### Archivierung
* langfristige Speichern von Forschungsdaten typischerweise auf einschlägigen __Repositorien__
* __nicht__ primär der Zweck der Nachnutzung (sondern beispielsweise der Transparenz)
:::
  
  
::: {.callout-note icon=false}
### Bereitstellung
* Aufbereitung & Kontextualisierung von Forschungsdaten
* Speicherung auf __Forschungsdatenzentren__
* __primär__ der Zweck der Nachnutzung
:::

Anforderung bei Drittmittel [@bmbf.2021a; @europeancommission.2017c; @dfg.2015; @dfg.2022]

::: {.callout-note icon=false}
### Nachnutzung
* Reanalyse, Replikation, Sekundärdatenanalyse
* Forschungssynthesen
* Einsatz in der Lehre
:::

[@dgfe.2017]

::: {.notes}
* entsprechend findet eine geringere Aufbereitung und Dokumentation der Daten statt
* Nachnutzung: Reanalyse (auch andere Modelle können getestet werden)
:::


## Nachnutzung | Warum

* Ressourcenschonung
* Analysepotantial oftmals nicht ausgeschöpft
* Forschungssynthesen (z.B. meta-analytic SEM)


::: {.notes}
Überfrachtungen bestimmter Forschungsfelder vermeiden (vulnerable Gruppen)
:::


# Wie hilft ein Codebook?

## FAIR Data herstellen


:::: {.columns}  
::: {.column width="25%"}
 <div class="blueTop">**F**indable</div>  
 <div class="blueBottom"></div>  
:::  
::: {.column width="25%"}
 <div class="blueTop">**A**ccessible</div>  
 <div class="blueBottom"></div>  
:::  
::: {.column width="25%"}
 <div class="blueTop">**I**nteroperable</div>  
 <div class="blueBottom"></div>  
:::
::: {.column width="25%"}
 <div class="blueTop">**R**eusable</div>  
 <div class="blueBottom"></div>  
:::
::::



## FAIR Data herstellen


:::: {.columns}  
::: {.column width="25%"}
 <div class="blueTop">**F**indable</div>  
 <div class="blueBottom">F2. Daten werden mit umfangreichen Metadaten beschrieben<br /><br />
 *"Forscherinnen und Forscher sollten jeden Datensatz sorgfältig und möglichst vollständig mit Metadaten beschreiben."*</div>  
:::  
::: {.column width="25%"}
 <div class="blueTop">**A**ccessible</div>  
 <div class="blueBottom"></div>  
:::  
::: {.column width="25%"}
 <div class="blueTop">**I**nteroperable</div>  
 <div class="blueBottom"></div>  
:::
::: {.column width="25%"}
 <div class="blueTop">**R**eusable</div>  
 <div class="blueBottom">R1. (Meta)Daten sind detailliert beschrieben und enthalten präzise, relevante Attribute<br /><br />
 *"Eine gute Beschreibung von Daten und Metadaten sorgt dafür, dass die Daten für die zukünftige Forschung wiederverwendet werden können"*</div>  
:::
::::


[@wilkinsonetal.2016]

TIB-Blog: [Rolle der Wissenschaftler*innen](https://blogs.tib.eu/wp/tib/2017/09/12/die-fair-data-prinzipien-fuer-forschungsdaten/)[@kraft.2017a]


## Codebook

* provides the metadata
  - Erklärt Variablen- und Wertelabels
  - high level summary der Daten

  -> ermöglicht Nachvollziehbarkeit der Daten (auch für eigene Arbeitsgruppe)  
  -> verbessert Reproduzierbarkeit und Nachnutzung
* Vorteil für Bereitstellende: easier to discover errors, miscoded missing values, oddly shaped distributions
  -> allowing data creators to clean their data sets more efficiently and reproducibly
* nicht zu unterschätzen: Standardisierung
  (1) easier for researchers to make sense of data (but they can make do)
  (2) search engines rely on standardized metadata


## codebook package

* codebook package
  - exportable to html & pdf
  - includes: metadata (variable names, value names); data summaries; 
  - making data-set contents and structure more transparent -> easier to judge if I want to reuse data
  long term
  - machine readable
  - meta-analyses
  - relevant unpublished effect sizes could be discovered more easily

## Punkte


* Wie Codebook dabei hilft Reproduzierbarkeit & Nachnutzung zu fördern
  - Analysen und Datensatz (auch jenseits der RDA) besser nachvollziehen
  - Datensatz mit / ohne codebook (within?)
* Hands on

Mein Datensatz: https://doi.org/10.4232/1.13468

* maximales codebook zeigen
* schrittweise ergänzen


# {-}


<div id="refs"></div>


# Credit
Icons by Font Awesome CC BY 4.0

Foto title page by <a href="https://unsplash.com/@harlynkingm?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Max Harlynking</a> on <a href="https://unsplash.com/de/fotos/PreLE0ZJVQ0?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a>
  